<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GameVault Market</title>

<link rel="stylesheet" href="style.css">

<!-- SUPABASE -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>

<header>
  <h1>GameVault Market</h1>
</header>

<!-- AUTH -->
<section id="authBox">
  <h2>Login / Signup</h2>

  <input type="email" id="email" placeholder="Email">
  <input type="password" id="password" placeholder="Password">

  <button onclick="signup()">Signup</button>
  <button onclick="login()">Login</button>

  <p id="authMsg"></p>
</section>

<!-- MAIN APP -->
<section id="app" class="hidden">

  <nav>
    <button onclick="showPage('market')">Market</button>
    <button onclick="showPage('sell')" id="sellBtn" class="hidden">Sell</button>
    <button onclick="showPage('verify')" id="verifyBtn" class="hidden">Become Seller</button>
    <button onclick="showPage('admin')" id="adminBtn" class="hidden">Admin</button>
    <button onclick="logout()">Logout</button>
  </nav>

  <!-- MARKET -->
  <div id="market" class="page">
    <h2>Marketplace</h2>
    <div id="listings"></div>
  </div>

  <!-- SELL -->
  <div id="sell" class="page hidden">
    <h2>Create Listing</h2>
    <input id="title" placeholder="Title">
    <input id="price" placeholder="Price USD">
    <textarea id="desc" placeholder="Description"></textarea>
    <input type="file" id="image">
    <button onclick="createListing()">Post Listing</button>
  </div>

  <!-- VERIFY -->
  <div id="verify" class="page hidden">
    <h2>Seller Verification</h2>
    <input type="file" id="idUpload">
    <input type="file" id="selfieUpload">
    <input type="file" id="paymentUpload">
    <button onclick="submitVerification()">Submit Verification</button>
  </div>

  <!-- ADMIN -->
  <div id="admin" class="page hidden">
    <h2>Admin Panel</h2>
    <div id="adminData"></div>
  </div>

</section>

<script src="app.js"></script>
</body>
</html>